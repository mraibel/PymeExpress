<div class="container mt-4">
  <div class="row">
    <div class="col-md-6">
      <div class="accordion-wrapper">
        <div class="accordion" id="productAccordion">
          <div *ngFor="let item of items; let i = index" class="accordion-item">
            <h2 class="accordion-header" id="heading{{i}}">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse' + i" aria-expanded="true" [attr.aria-controls]="'collapse' + i">
                {{ item.title }}
              </button>
            </h2>
            <div [id]="'collapse' + i" class="accordion-collapse collapse show" [attr.aria-labelledby]="'heading' + i">
              <div class="accordion-body">
                <ng-container [ngSwitch]="item.title">
                  <div *ngSwitchCase="'Nombre'">
                    <label for="nombre">Nombre del Producto</label>
                    <input id="nombre" class="form-control" type="text" [(ngModel)]="formData.nombre" required>
                  </div>
                  <div *ngSwitchCase="'Stock'">
                    <label for="stock">Stock</label>
                    <input id="stock" class="form-control" type="number" [(ngModel)]="formData.stock" required>
                  </div>
                  <div *ngSwitchCase="'Fotos'">
                    <label for="fotos">Fotos</label>
                    <input id="fotos" class="form-control" type="file" (change)="onFileChange($event)" accept="image/png, image/jpeg" required>
                  </div>
                  <div *ngSwitchCase="'Precio'">
                    <label for="precio">Precio</label>
                    <input id="precio" class="form-control" type="number" [(ngModel)]="formData.precio" required>
                  </div>
                  <div *ngSwitchCase="'Caracteristicas Principales'">
                    <label for="caracteristicasPrincipales">Características Principales</label>
                    <textarea id="caracteristicasPrincipales" class="form-control" [(ngModel)]="formData.carcateristicasPrincipales" required></textarea>
                  </div>
                  <div *ngSwitchCase="'Categoria'">
                    <label for="categoria">Categoría</label>
                    <select id="categoria" class="form-control" [(ngModel)]="formData.categoria" required>
                      <option value="" disabled selected>Selecciona una opción</option>
                      <option value="electronica">Electrónica</option>
                      <option value="juguetes">Juguetes</option>
                      <option value="ropa">Ropa</option>
                    </select>
                  </div>
                  <div *ngSwitchCase="'Formas de pago'">
                    <label for="formasDePago">Formas de Pago</label>
                    <select id="formasDePago" class="form-control" [(ngModel)]="formData.formasDePago" required>
                      <option value="" disabled selected>Selecciona una opción</option>
                      <option value="tarjeta">Tarjeta de Crédito/Débito</option>
                      <option value="transferencia">Transferencia Bancaria</option>
                      <option value="efectivo">Efectivo</option>
                    </select>
                  </div>
                  <div *ngSwitchCase="'Descripción'">
                    <label for="descripcion">Descripción</label>
                    <textarea id="descripcion" class="form-control" [(ngModel)]="formData.descripcion" required></textarea>
                    <button class="btn btn-primary mt-2" (click)="generarDescripcion()">Generar Descripción</button>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-success mt-4" (click)="crearProducto()">Crear Producto</button>
      </div>
    </div>
    <div class="col-md-6">
      <app-visualizar-producto [formData]="formData"></app-visualizar-producto>
    </div>
  </div>
</div>
